<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solicitud de Préstamo - Ediciones Saberum</title>
    <link rel="stylesheet" href="../CSS/Solicitud_de_Préstamo_.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Ediciones Saberum</h1>
            <p>Ven, lee y saborea el conocimiento</p>
        </div>
        <nav>
            <ul>
                <li><a href="../Index.html">Catálogo</a></li>
                <li><a href="Panel_de_Usuario.html">Mi Cuenta</a></li>
                <li><a href="Solicitud_de_Préstamo.html" class="active">Reservas</a></li>
                <li><a href="Panel_de_Usuario.html">Préstamos</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="breadcrumb">
            <a href="../Index.html">Catálogo</a> > 
            <a href="Detalle_de_Obra.html" id="breadcrumb-book">Detalle de Obra</a> > 
            <span>Solicitud de Préstamo</span>
        </div>

        <section class="loan-process">
            <h1>Solicitud de Préstamo</h1>
            
            <div class="process-steps">
                <div class="step active">1. Verificación</div>
                <div class="step">2. Datos del Préstamo</div>
                <div class="step">3. Confirmación</div>
            </div>

            <div class="loan-content">
                <!-- Paso 1: Verificación -->
                <div id="step-verification" class="step-content active">
                    <div class="book-summary">
                        <h2>Resumen del Libro</h2>
                        <div id="book-summary-content">
                            <!-- Información del libro se carga dinámicamente -->
                        </div>
                    </div>

                    <div class="verification-section">
                        <h2>Verificar Disponibilidad</h2>
                        <div class="status-message" id="availability-message">
                            <!-- Mensaje de disponibilidad se carga dinámicamente -->
                        </div>

                        <div class="verification-questions">
                            <div class="question">
                                <label for="resource-type">¿El recurso es virtual o físico?</label>
                                <select id="resource-type">
                                    <option value="">Seleccione una opción</option>
                                    <option value="virtual">Virtual</option>
                                    <option value="fisico">Físico</option>
                                </select>
                            </div>

                        </div>

                        <button id="continue-to-details" class="btn-primary" disabled>Continuar con los Datos del Préstamo</button>
                    </div>
                </div>

                <!-- Paso 2: Datos del Préstamo -->
                <div id="step-details" class="step-content">
                    <h2>Datos del Préstamo</h2>
                    
                    <form id="loan-form">
                        <div class="form-group">
                            <label for="loan-date">Fecha de Préstamo *</label>
                            <input type="date" id="loan-date" required>
                        </div>

                        <div class="form-group">
                            <label for="return-date">Fecha de Devolución *</label>
                            <input type="date" id="return-date" required>
                            <small class="help-text">La fecha de devolución se calculará automáticamente según las políticas de la biblioteca</small>
                        </div>

                        <div class="form-group">
                            <label for="loan-purpose">Comentarios del préstamo (Opcional)</label>
                            <textarea id="loan-purpose" rows="3" placeholder="Describa brevemente..."></textarea>
                        </div>

                        <div class="terms-section">
                            <h3>Términos y Condiciones</h3>
                            <div class="terms-content">
                                <ul>
                                    <li>El período máximo de préstamo es de 15 días</li>
                                    <li>Se permiten hasta 2 renovaciones por obra</li>
                                    <li>La multa por día de retraso es de S/ 5.00</li>
                                    <li>Se aplican 3 días de gracia antes del cobro de multas</li>
                                    <li>El límite de recursos prestados por usuario es de 5</li>
                                    <li>El usuario es responsable del cuidado del material</li>
                                </ul>
                            </div>
                            <div class="terms-agreement">
                                <input type="checkbox" id="agree-terms" required>
                                <label for="agree-terms">Acepto los términos y condiciones del préstamo</label>
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="button" id="back-to-verification" class="btn-outline">Volver a Verificación</button>
                            <button type="submit" id="submit-loan" class="btn-primary">Solicitar Préstamo</button>
                        </div>
                    </form>
                </div>

                <!-- Paso 3: Confirmación -->
                <div id="step-confirmation" class="step-content">
                    <div class="confirmation-message">
                        <div class="success-icon">✓</div>
                        <h2>¡Préstamo Registrado Exitosamente!</h2>
                        <p>Su solicitud de préstamo ha sido procesada correctamente.</p>
                        
                        <div class="loan-details-summary">
                            <h3>Detalles del Préstamo</h3>
                            <div id="loan-summary-content">
                                <!-- Resumen del préstamo se carga dinámicamente -->
                            </div>
                        </div>

                        <div class="confirmation-actions">
                            <button id="generate-receipt" class="btn-primary">Generar Comprobante</button>
                            <button id="new-loan" class="btn-secondary">Solicitar Otro Préstamo</button>
                            <button id="go-to-catalog" class="btn-outline">Volver al Catálogo</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Ediciones Saberum. Todos los derechos reservados.</p>
    </footer>

    <script src="../JS/Solicitud_de_Préstamo_J_.js"></script>
</body>
</html>